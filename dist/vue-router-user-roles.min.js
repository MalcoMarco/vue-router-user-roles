/*!
 * vue-router-user-roles v0.1.8 
 * (c) 2018 Anthony Gore
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):e.VueRouterUserRoles=t(e.Vue)}(this,function(e){"use strict";function t(e,t){if(!t.router)throw new Error("You must supply a router instance in the options.");var o=new r(t.router);e.prototype.$user=o,t.router.beforeEach(function(e,t,r){return o.resolve(e,t,r)})}e="default"in e?e.default:e;var r=function(t){this.router=t,this.vm=new e({data:{user:null}})};return r.prototype.get=function(){if(!this.vm.user)throw new Error("Attempt to access user before being set");return this.vm.user},r.prototype.set=function(e){var t=this;if(this.vm.user=e,this.to&&this.to.meta.permissions){var r=this.to.meta.permissions.find(function(e){return e.role===t.vm.user.role});r&&(("boolean"!=typeof r.access||r.access)&&r.access(this.vm.user,this.to)||this.router.push({name:r.redirect}))}},r.prototype.resolve=function(e,t,r){var o=this;if(this.to=e,e.meta.permissions){var s=e.meta.permissions.find(function(e){return e.role===o.vm.user.role});s?"boolean"==typeof s.access?s.access?r():r({name:s.redirect}):s.access(this.vm.user,e)?r():r({name:s.redirect}):r()}else r()},t.version="0.1.8","undefined"!=typeof window&&window.Vue&&window.Vue.use(t),t});