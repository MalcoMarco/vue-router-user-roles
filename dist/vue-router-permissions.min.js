/*!
 * vue-router-permissions v0.1.1 
 * (c) 2018 Anthony Gore
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):e.VueRouterPermissions=t(e.Vue)}(this,function(e){"use strict";function t(e,t){var r=new s(t);e.prototype.$protect=r,t.beforeEach(function(e,t,s){return r.resolve(e,t,s)})}e="default"in e?e.default:e;var s=function(t){this.router=t,this.vm=new e({data:{user:null}})},r={user:{}};return r.user.get=function(){if(!this.vm.user)throw new Error("Do not attempt to access user before it's set");return this.vm.user},r.user.set=function(e){var t=this;if(this.vm.user=e,this.to&&this.to.meta.permissions){var s=this.to.meta.permissions.find(function(e){return e.type===t.vm.user.type});s&&("boolean"==typeof s.access&&!s.access||s.access(this.vm.user,this.to))&&this.router.push({name:s.redirect})}},s.prototype.resolve=function(e,t,s){var r=this;if(this.to=e,e.meta.permissions){var i=e.meta.permissions.find(function(e){return e.type===r.vm.user.type});i?"boolean"==typeof i.access?i.access?s():s({name:i.redirect}):i.access(this.vm.user,e)?s():s({name:i.redirect}):s()}else s()},Object.defineProperties(s.prototype,r),t.version="0.1.1","undefined"!=typeof window&&window.Vue&&window.Vue.use(t),t});